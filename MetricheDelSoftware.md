# Metriche del software
Una metrica definisce un insieme di misure che permettono di valutare determinate caratteristiche del software. Un esempio banale di metrica è la quantità di righe di codice all’interno del sistema. Le metriche sono particolarmente utili per il monitoraggio del prodotto, l’identificazione di livelli per ciascuna metrica e rimediare in caso i livelli non sono soddisfacenti. Gli attributi di un software si suddividono in interni ed esterni. Quelli interni possono essere misurati direttamente analizzando il software mentre quelli esterni sono ricavati indirettamente tramite l’analisi dell’esecuzione del sistema per un dato periodo di tempo. Un esempio di attributo interno sono le righe di codice, un esempio di attributo esterno invece è la robustezza del sistema.
## Metriche tradizionali
- **Complessità ciclomatica**: indica il numero di percorsi indipendenti e, quindi, il numero di test necessari e il suo obiettivo è di valutare la complessità di un algoritmo. Dove per algoritmo possiamo intendere una classe, una funzione ecc.
- **Dimensione**: misurata in termini di LOC (lines of code) numero di righe di codice oppure in termini di NCNB (non comment non blank) cioè numero di righe di codice che non sono commenti o non sono vuote.
- **Percentuale di commenti** rispetto al numero di linee di codice totali.
## Metriche CK
Le metriche CK sono metriche specifiche per sistemi ad oggetti:
- **WMC (Weighted Methods per Class)**: data una classe, definisce la complessità della classe come la somma delle complessità dei suoi metodi qualunque sia la metrica di complessità utilizzata. Una classe con WMC alto è una classe complessa.
- **DIT (Depth of Inheritance Tree)**: data una classe, le associo un valore pari alla sua profondità all’interno della gerarchia di classi. Tanto una classe è in fondo alla gerarchia delle classi tanto più alto sarà il suo DIT. Questa metrica permette di ottenere una stima: della complessità (più una classe è in fondo più saranno i metodi ereditati dalle classi superiori), della stabilità del codice, di riuso (una classe che si trova in fondo alla gerarchia non potrà essere riutilizzata da sola perché dipendente dalle classi superiori).
- **NOC (Number of Children of a Class)**: indica semplicemente il conteggio del numero di sottoclassi di una data classe. Più è alto NOC meglio è perché vuol dire che quella determinata classe è stata riusata più volta nelle sottoclassi.
- **CBO (Coupling Between Object Classes)**: misura la dipendenza tra le classi conteggiando il numero di classi con cui una determinata classe interagisce. Permette di misurare il livello di accoppiamento del codice con altre parti di sistema. Tanto più è alto peggio è perché vuol dire che la classe ha tante dipendenze il che riduce il suo riuso, aumenta la difficoltà della sua lettura e aumenta la difficoltà di testing. L’applicazione di design pattern quali Facade e Mediator permette di diminuire il CBO di una classe.
- **RFC (Response for a Class)**: indica il conteggio di metodi con cui una data classe interagisce. Viene misurato sommando il numero di metodi della classe e il numero di metodi di altre classi che la classe data richiama. Più è alto più è alta l’interazione con altre parti del sistema perché una chiamata al metodo della classe richiama in cascata altri metodi appartenenti ad altre classi. Ogni metodo viene contato solo una volta.
- **LCOM (Lack of Cohesion Methods)**: misura la mancanza di coesione di una classe. Tanto più i metodi di una classi usano gli attributi della classi tanto più quella classe è coesa. La formula per il calcolo del LCOM è: $1- \frac{\sum^a_im_{a_i}}{m * a}$ dove $a$ è il numero di attributi, $m$ è il numero di metodi della classe e $m_a$ è il numero di metodi che usano l'attributo $a_i$. Se il LCOM è uguale a 0 allora la coesione della classe è massima.